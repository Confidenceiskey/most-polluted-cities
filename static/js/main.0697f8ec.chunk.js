(window["webpackJsonpmost-polluted-cities"]=window["webpackJsonpmost-polluted-cities"]||[]).push([[0],{29:function(n,e,t){n.exports=t.p+"static/media/city-pollution.24520a1b.svg"},30:function(n,e,t){n.exports=t.p+"static/media/cow-pollution.a4bf2695.svg"},31:function(n,e,t){n.exports=t.p+"static/media/industrial-pollution.4a4259ab.svg"},34:function(n,e,t){n.exports=t.p+"static/media/masked-man.f015ba14.svg"},37:function(n,e,t){n.exports=t(83)},83:function(n,e,t){"use strict";t.r(e);var r=t(0),i=t.n(r),a=t(26),o=t.n(a),c=t(5),u=t(6),l=t(8),d=t(7),p=t(9),s=t(1),f=t(2);function x(){var n=Object(s.a)(['\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n    sans-serif;\n    padding: 0;\n    width: 100vw;\n    height: calc(100vh - 90px);\n    background: linear-gradient(to bottom, #454545 0vh, \n                #696969 30vh, #2F80ED 60vh, #56CCF2 100vh);\n    background-attachment: fixed;\n  }\n']);return x=function(){return n},n}var m=Object(f.a)(x()),h=function(){return i.a.createElement(m,null)};function g(){var n=Object(s.a)(["\n  text-decoration: none;\n  color: #71be63;\n"]);return g=function(){return n},n}function b(){var n=Object(s.a)(["\n  color: #24481e;\n  margin: 8px 0 0 90px;\n  font-size: 14px;\n  text-align: center;\n\n  @media (min-width: 1200px) {\n    font-size: 15px;\n  }\n\n  @media (max-width: 567px) {\n    margin-left: 0;\n  }\n"]);return b=function(){return n},n}function v(){var n=Object(s.a)(["\n  width: 100vw;\n  height: 70px;\n  background: #43ab5f;\n  border-top: 20px solid #71be63;\n"]);return v=function(){return n},n}var y=f.b.div(v()),w=f.b.div(b()),E=f.b.a(g()),O=function(){return i.a.createElement(y,null,i.a.createElement(w,null,"Designed By David Nowak \xa9 2019"),i.a.createElement(w,null,"Icons by "," ",i.a.createElement(E,{href:"https://www.flaticon.com",target:"_blank"},"Flaticon.")," "," See "," ",i.a.createElement(E,{href:"https://github.com/Confidenceiskey/most-polluted-cities#icons-by",target:"_blank"},"Authors.")))},k=t(29),j=t.n(k),S=t(30),C=t.n(S);function z(){var n=Object(s.a)(["\n  display: flex;\n  width: ",";\n  height: ",";\n  flex-grow: ",";\n"]);return z=function(){return n},n}var D=f.b.img(z(),function(n){return n.width||"140px"},function(n){return n.height||"140px"},function(n){return n.flexGrow||1}),L=function(n){var e=n.width,t=n.height,r=n.src,a=n.flexGrow;return i.a.createElement(D,{width:e,height:t,src:r,flexGrow:a})},I=t(31),M=t.n(I);function P(){var n=Object(s.a)(["\n  display: flex;\n  max-width: 1600px;\n  align-items: flex-end;\n  margin: 0 auto -12px;\n"]);return P=function(){return n},n}var T=f.b.div(P()),F=function(n){function e(){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this))).checkScreenSize=function(){window.innerWidth>467?n.setState({multiplier:1}):n.setState({multiplier:.65})},n.calcImgSize=function(n,e){return"".concat(n*e,"px")},n.componentDidMount=function(){n.checkScreenSize(),window.addEventListener("resize",n.checkScreenSize)},n.componentWillUnmount=function(){window.removeEventListener("resize",n.checkScreenSize)},n.state={multiplier:1},n}return Object(p.a)(e,n),Object(u.a)(e,[{key:"render",value:function(){var n=this.state.multiplier;return i.a.createElement(T,null,i.a.createElement(i.a.Fragment,null,i.a.createElement(L,{src:M.a,height:this.calcImgSize(140,n),width:this.calcImgSize(140,n)}),i.a.createElement(L,{src:j.a,flexGrow:2,height:this.calcImgSize(175,n),width:this.calcImgSize(175,n)}),i.a.createElement(L,{src:C.a,height:this.calcImgSize(50,n),width:this.calcImgSize(50,n)})))}}]),e}(r.Component);function R(){var n=Object(s.a)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n"]);return R=function(){return n},n}var _=f.b.div(R()),A=function(){return i.a.createElement(_,null,i.a.createElement(F,null),i.a.createElement(O,null))},B=t(32),U=t(11),q=t(16),G=t.n(q),H=t(10),W=t.n(H),Y=t(33),Z=t.n(Y),N=t(34),J=t.n(N);function Q(){var n=Object(s.a)(["\n  flex-grow: 2;\n  margin: 20px 30px 10px;\n  padding: 0;\n  font-family: 'Roboto', 'Arial', serif;\n  font-size: 3.5vw;\n  font-weight: 300;\n  color: #000;\n\n  @media (min-width: 1901px) {\n    font-size: 44px;\n  }\n\n  @media (min-width: 800px) and (max-width: 1900px) {\n    font-size: 28px;\n  }\n\n  @media (min-width: 490px) and (max-width: 567px) {\n    margin: 12px 15px 6px;\n    font-size: 18px;\n  }\n\n  @media (min-width: 360px) and (max-width: 489px) {\n    margin: 10px 12px 5px;\n    font-size: 16px;\n  }\n\n  @media (max-width: 359px) {\n    margin: 10px 12px 5px;\n    font-size: 14px;\n  }\n\n  @media screen and (orientation: landscape) and (max-height: 450px) {\n    font-size: 2.7vw;\n  }\n"]);return Q=function(){return n},n}var V=f.b.h2(Q()),$=function(n){var e=n.text;return i.a.createElement(V,null,e)};function K(){var n=Object(s.a)(["\n  background: orange;\n  width: 120px;\n  height: 35px;\n  color: #000;\n  font-size: 19px;\n  padding: 5px;\n  margin: 10px 15px 0;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    opacity: 0.7;\n  }\n\n  @media (max-width: 676px) {\n    width: 100px;\n    height: 32px;\n    font-size: 16px;\n  }\n"]);return K=function(){return n},n}var X=f.b.button(K()),nn=function(n){var e=n.text;return i.a.createElement(X,null,e)};function en(){var n=Object(s.a)(["\n"]);return en=function(){return n},n}var tn=f.b.option(en()),rn=function(n){var e=n.value;return i.a.createElement(tn,{value:e})},an={france:"FR",germany:"DE",poland:"PL",spain:"ES"};function on(){var n=Object(s.a)(["\n"]);return on=function(){return n},n}var cn=f.b.datalist(on()),un=function(n){var e=n.id;return i.a.createElement(cn,{id:e},Object.keys(an).map(function(n){return i.a.createElement(rn,{key:n,value:"".concat(n.slice(0,1).toUpperCase()).concat(n.slice(1))})}))};function ln(){var n=Object(s.a)(["\n  \n  max-width: 300px;\n  margin-top: 10px;\n  height: 22px;\n  padding: 8px 15px;\n  background: #fff;\n  border-radius: 10px;\n  border: none;\n  font-size: 18px;\n\n  :active, :focus {\n    outline: none;\n  }\n\n  ::-webkit-input-placeholder { /* Edge */\n    color: #bfbfbf;\n    font-style: italic;\n  }\n\n  :-ms-input-placeholder { /* Internet Explorer 10-11 */\n    color: #bfbfbf;\n    font-style: italic;\n  }\n\n  ::placeholder {\n    color: #bfbfbf;\n    font-style: italic;\n  }\n\n  @media (min-width: 1200px) {\n    width: 375px;\n  }\n\n  @media (max-width: 667px) {\n    width: 170px;\n    height: 18px;\n    font-size: 15px;\n  }\n"]);return ln=function(){return n},n}var dn=f.b.input(ln()),pn=function(n){var e=n.type,t=n.name,r=n.id,a=n.onChange,o=n.onClick,c=n.placeholder,u=n.list,l=n.value;return i.a.createElement(dn,{placeholder:c,list:u,key:r,type:e,name:t,id:r,onChange:a,onClick:o,value:l,required:!0})};function sn(){var n=Object(s.a)(["\n  display: ",";\n  width: 100%;\n  font-family: 'Roboto', 'Arial', serif;\n  margin: 0 0 -8px;\n  padding: 0;\n  font-size: 12px;\n  color: red;\n\n  @media (min-width: 1200px) {\n    font-size: 16px;\n  }\n  @media (min-width: 568px) {\n    padding-left: 20px;\n  }\n  @media (min-width: 490px) and (max-width: 567px) {\n    padding-left: 5px;\n  }\n"]);return sn=function(){return n},n}function fn(){var n=Object(s.a)(["\n \n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 3;\n  margin: 5px 12px 10px;\n  padding: 0;\n  font-family: 'Roboto', 'Arial', serif;\n"]);return fn=function(){return n},n}var xn=f.b.form(fn()),mn=f.b.div(sn(),function(n){return n.displayErr||"none"}),hn=function(n){var e=n.onTextChange,t=n.country,r=n.handleSubmit,a=n.clearSearchBox,o=n.placeholderText,c=(n.displayErr,n.displayErrMsg);return i.a.createElement(xn,{onSubmit:r,autocomplete:"on"},i.a.createElement(mn,{displayErr:c},"Please enter a valid country from the list!"),i.a.createElement(pn,{placeholder:o,list:"countries",type:"country",name:"country",id:"country",value:t,onChange:e,onClick:function(){return a()}}),i.a.createElement(un,{id:"countries"}),i.a.createElement(nn,{text:"Find Cities",type:"submit"}))};function gn(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  margin-left: 15px;\n  background: #e6e6e6;\n  border-radius: 0 30px 30px 0;\n"]);return gn=function(){return n},n}var bn=f.b.div(gn()),vn=function(n){return i.a.createElement(bn,null,i.a.createElement($,{text:"Select your country to see the 10 most currently polluted  cities"}),i.a.createElement(hn,n))};function yn(){var n=Object(s.a)(["\n  display: flex;\n  align-items: flex-end;\n  margin: auto 0 0 14px;\n  width: 200px;\n  height: 250px;\n\n  @media (min-width: 1600px) {\n    width: 280px;\n    height: 320px;\n  }\n  @media (min-width: 769px) and (max-width: 991px) {\n    width: 190px;\n    height: 220px;\n  }\n  @media (min-width: 568px) and (max-width: 768px) {\n    width: 150px;\n    height: 180px;\n  }\n  @media (max-width: 567px) {\n    margin-left: 25px;\n    width: 100px;\n    height: 130px;\n  }\n"]);return yn=function(){return n},n}function wn(){var n=Object(s.a)(["\n  display: flex;\n  margin: 20px 0;\n  width: 100%;\n  height: 250px;\n  background: #fff;\n  border-radius: 30px;\n\n  @media (min-width: 1600px) {\n    height: 320px;\n  }\n  @media (min-width: 769px) and (max-width: 991px) {\n    height: 220px;\n  }\n  @media (min-width: 568px) and (max-width: 768px) {\n    height: 180px;\n  }\n  @media  (max-width: 567px) {\n    height: 180px;\n  }\n  @media screen and (max-height: 650px) and (orientation: portrait) {\n    height: 160px;\n  }\n"]);return wn=function(){return n},n}var En=f.b.div(wn()),On=f.b.div(yn()),kn=function(n){return i.a.createElement(En,null,i.a.createElement(On,null,i.a.createElement(L,{src:J.a,width:"100%",height:"auto"})),i.a.createElement(vn,n))};function jn(){var n=Object(s.a)(["\n  background: #fff;\n  color: #000;\n  font-family: 'Roboto', 'Arial', sans-serif;\n  font-size: 20px;\n  font-weight: bold;\n  padding: 5px 0;\n  border-radius: 10px;\n  word-wrap: 'normal';\n  flex: ",";\n  text-align: ",";\n  padding-left: ",";\n\n  @media (max-width: 550px) {\n    font-size: ",";\n  }\n\n  @media (min-width: 1800px) {\n    font-size: 28px;\n    padding: 10px 0;\n  }\n"]);return jn=function(){return n},n}var Sn=f.b.div(jn(),function(n){return n.flex||2},function(n){return n.align||"center"},function(n){return n.paddingL||"0"},function(n){return n.fontSm||"18px"}),Cn=function(n){var e=n.text,t=n.flex,r=n.align,a=n.paddingL,o=n.fontSm;return i.a.createElement(Sn,{flex:t,fontSm:o,align:r,paddingL:a},e)};function zn(){var n=Object(s.a)(["\n  display: flex;\n  width: calc(100% - 50px);\n  align-items: center;\n  background: #fff;\n  margin: 10px 0;\n  padding: 5px 10px;\n  border-radius: 10px;\n"]);return zn=function(){return n},n}var Dn=f.b.div(zn()),Ln=function(n){var e=n.text;return i.a.createElement(Dn,null,i.a.createElement(Cn,{text:e,flex:"auto"}))};function In(){var n=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  margin: 10px 0;\n  padding: 5px 10px;\n  border-radius: 10px;\n"]);return In=function(){return n},n}var Mn=f.b.div(In()),Pn=function(){return i.a.createElement(Mn,null,i.a.createElement(Cn,{text:"Rank"}),i.a.createElement(Cn,{text:"City",flex:3,align:"left",paddingL:"30px"}),i.a.createElement(Cn,{text:"Pollution Index",fontSm:"16px"}))};function Tn(){var n=Object(s.a)(["\n  font-size: 12px;\n\n  @media (max-width: 550px) {\n    font-size: 11px;\n  }\n  @media (min-width: 1800px) {\n    font-size: 17px;\n  }\n"]);return Tn=function(){return n},n}function Fn(){var n=Object(s.a)(["\n  color: #000;\n  font-family: 'Roboto', 'Arial', sans-serif;\n  font-size: 19px;\n  font-weight: 300;\n  padding: 5px 0;\n  word-wrap: 'normal';\n  flex: ",";\n  text-align: ",";\n  padding-left: ",";\n  cursor: ",";\n\n  @media (max-width: 550px) {\n    font-size: 17px;\n  }\n  @media (min-width: 1800px) {\n    font-size: 26px;\n    padding: 10px 0;\n  }\n"]);return Fn=function(){return n},n}var Rn=f.b.div(Fn(),function(n){return n.flex||2},function(n){return n.align||"center"},function(n){return n.paddingL||"0"},function(n){return n.cursor||"default"}),_n=f.b.span(Tn()),An=function(n){var e=n.text,t=n.flex,r=n.align,a=n.paddingL,o=n.cursor,c=n.rangeZone,u=n.onClick,l=n.isExpanded;return i.a.createElement(Rn,{flex:t,align:r,paddingL:a,onClick:u,isExpanded:l,cursor:o},e,i.a.createElement(_n,null," ",c))};function Bn(){var n=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  margin: 10px 0;\n  padding: 8px 10px;\n  border-radius: 12px;\n"]);return Bn=function(){return n},n}var Un=f.b.div(Bn()),qn=function(n){var e=n.textLeft,t=n.textCenter,r=n.showCityDescription,a=n.isExpanded,o=n.textRight,c=n.rangeZone;return i.a.createElement(Un,null,i.a.createElement(An,{text:e}),i.a.createElement(An,{text:t,flex:3,align:"left",paddingL:"30px",onClick:r,isExpanded:a,cursor:"pointer"}),i.a.createElement(An,{text:o,rangeZone:c}))};function Gn(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 90%\n  align-items: center;\n  background: #e6e6e6;\n  margin: -10px auto 0;\n  padding: 15px 15px;\n  border-radius: 0;\n"]);return Gn=function(){return n},n}var Hn=f.b.div(Gn()),Wn=function(n){var e=n.bodyText;return i.a.createElement(Hn,{dangerouslySetInnerHTML:{__html:e}})};function Yn(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 90%\n  align-items: center;\n  background: #e6e6e6;\n  margin: -10px auto 0;\n  padding: 15px 15px;\n  border-radius: 0;\n"]);return Yn=function(){return n},n}var Zn=f.b.div(Yn()),Nn=function(n){var e=n.errorMsg;return i.a.createElement(Zn,null,e)};function Jn(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Jn=function(){return n},n}var Qn=f.b.div(Jn()),Vn=function(n){var e=n.ranking,t=n.showCityDescription;return i.a.createElement(Qn,null,e.map(function(n,e){return i.a.createElement(i.a.Fragment,{key:"".concat(n.city,"_content")},i.a.createElement(qn,{key:n.city,textLeft:e+1,textCenter:n.city,textRight:n.pollutionIndex,rangeZone:(r=n.pollutionIndex,r<=3?"(low)":r<=6?"(mod)":r<=10?"(high)":"(very high)"),showCityDescription:function(r){return t(r,n.city,e)}}),!n.isDescriptionError||n.isExpanded||n.isDescriptionLoading?n.isDescriptionLoading?i.a.createElement(W.a,{type:"MutatingDots",color:"#fff",height:"100px",width:"100px",style:{textAlign:"center"}}):n.isExpanded?""===n.description?i.a.createElement(Nn,{key:"".concat(n.city,"_noInfo"),errorMsg:"Unfortunately no city description could be found."}):"none"!==n.description?i.a.createElement(Wn,{key:"".concat(n.city,"_popdown"),bodyText:n.description}):null:"none"===n.description?i.a.createElement(Nn,{key:"".concat(n.city,"_noInfo"),errorMsg:"Unfortunately no city description could be found."}):null:n.isDescriptionError?i.a.createElement(Nn,{key:"".concat(n.city,"_error"),errorMsg:"Oops, your request couldn't be processed!  Please try again later."}):null);var r}))};function $n(){var n=Object(s.a)(["\n  margin: 0 0 20px;\n  padding: 0;\n  width: 100%;\n  border: none;\n"]);return $n=function(){return n},n}var Kn=f.b.div($n()),Xn=function(n){var e=n.ranking,t=n.searchedCountry;return i.a.createElement(Kn,null,"empty"!==e&&0!==e.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(Pn,null),i.a.createElement(Vn,n)):0===e.length?i.a.createElement(Ln,{text:"No data was found for ".concat(t," in the past 3 hours! Please try again later.")}):null)};function ne(){var n=Object(s.a)(["\n  position: relative;\n  margin: 25px 0;\n  padding: 0;\n  font-family: 'Roboto', 'Arial', serif;\n  font-size: 8vmin;\n  font-weight: 500;\n  color: #e6e6e6;\n\n  @media (min-width: 991px) and (max-height: 500px) {\n    font-size: 40px;\n  }\n"]);return ne=function(){return n},n}var ee=f.b.h1(ne()),te=function(n){var e=n.text;return i.a.createElement(ee,null,e)};function re(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,r)}return t}function ie(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?re(t,!0).forEach(function(e){Object(B.a)(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):re(t).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function ae(){var n=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding: 0;\n  height: 100%;\n  margin-right: -50px; /* maximum width of scrollbar */\n  padding-right: 50px; /* maximum width of scrollbar */\n  overflow-y: scroll;\n"]);return ae=function(){return n},n}var oe=f.b.main(ae()),ce="https://api.openaq.org/v1/measurements",ue="country=",le="parameter[]=",de="no2",pe="o3",se="pm25",fe="date_from=",xe="order_by=",me="city",he="limit=",ge="10000",be="https://en.wikipedia.org/w/api.php",ve="action=",ye="query",we="prop=",Ee="extracts",Oe="exintro=",ke="true",je="titles=",Se="format=",Ce="json",ze="origin=",De="*",Le=function(n){function e(n){var t;return Object(c.a)(this,e),(t=Object(l.a)(this,Object(d.a)(e).call(this,n))).onTextChange=function(n){t.setState({country:n.target.value});var e=Object(U.a)(Object.keys(an)),r=n.target.value.toLowerCase();"block"===t.state.displayErrMsg&&e.includes(r)&&t.setState({displayErrMsg:"none"})},t.clearSearchBox=function(){t.setState({country:"",placeholderText:"Select Country"})},t.sortDescending=function(n){return Object(U.a)(n).sort(function(n,e){return e.pollutionIndex-n.pollutionIndex})},t.calcPollutionIndex=function(n){var e=n.map(function(n){var e,t,r;e=n.o3.length>0?n.o3.reduce(function(n,e){return n+e})/n.o3.length:n.o3,t=n.no2.length>0?n.no2.reduce(function(n,e){return n+e})/n.no2.length:n.no2,r=n.pm25.length>0?n.pm25.reduce(function(n,e){return n+e})/n.pm25.length:n.pm25;var i=1e3/10.4*(Math.exp(537e-6*e)-1)+(Math.exp(871e-6*t)-1)+(Math.exp(487e-6*r)-1);return ie({},n,{pollutionIndex:i<1?1:Math.round(i)})}).map(function(n){return{city:n.city,pollutionIndex:n.pollutionIndex,description:"",isExpanded:!1,isDescriptionError:!1,isDescriptionLoading:!1}});return t.sortDescending(e)},t.createCitiesList=function(n){var e=n.data.results,t=[],r=-1;return e.length>0&&e.forEach(function(n){-1!==r&&n.city===t[r].city||(t.push({city:n.city,no2:[],o3:[],pm25:[],pollutionIndex:null}),r+=1),n.city===t[r].city&&t[r][n.parameter].push(n.value)}),t},t.getQueryDate=function(){return Z.a.utc().subtract(3,"hours").format("YYYY-MM-DDTHH:mm:ss")},t.isCountryValid=function(n){var e=Object(U.a)(Object.keys(an)),r=n.toLowerCase();return e.includes(r)?(t.setState({searchedCountry:r.slice(0,1).toUpperCase()+r.slice(1)}),an[r]):(t.setState({displayErrMsg:"block"}),!1)},t.handleSubmit=function(n){n.preventDefault(),t.setState({isError:!1,displayErrMsg:"none"});var e=t.isCountryValid(t.state.country),r=t.getQueryDate();!1!==e&&(t.setState({isLoading:!0}),G()("".concat(ce,"?")+"".concat(ue).concat(e,"&")+"".concat(le).concat(de,"&")+"".concat(le).concat(pe,"&")+"".concat(le).concat(se,"&")+"".concat(fe).concat(r,"&")+"".concat(xe).concat(me,"&")+"".concat(he).concat(ge)).then(function(n){var e=t.createCitiesList(n);t.setState({ranking:t.calcPollutionIndex(e).slice(0,10),isLoading:!1,placeholderText:t.state.searchedCountry})}).catch(function(n){t.setState({isError:!0,isLoading:!1})}))},t.showCityDescription=function(n,e,r){n.preventDefault(),t.setState(function(n){return{ranking:n.ranking.map(function(n){return n.city===e?ie({},n,{isDescriptionError:!1}):n})}}),""===t.state.ranking[r].description?(t.setState(function(n){return{ranking:n.ranking.map(function(n){return n.city===e?ie({},n,{isDescriptionLoading:!0}):n})}}),G()("".concat(be,"?").concat(ve).concat(ye,"&")+"".concat(we).concat(Ee,"&").concat(Oe).concat(ke,"&")+"".concat(je).concat(e,"&").concat(Se).concat(Ce,"&")+"".concat(ze).concat(De)).then(function(n){var r=n.data.query.pages,i=Object.keys(r)[0];t.setState(function(n){return{ranking:n.ranking.map(function(n){return n.city===e?ie({},n,{description:r[i].extract.length>0?r[i].extract:"none",isExpanded:!0,isDescriptionLoading:!1}):n})}})}).catch(function(n){t.setState(function(n){return{ranking:n.ranking.map(function(n){return n.city===e?ie({},n,{isDescriptionLoading:!1,isDescriptionError:!0}):n})}})})):t.setState(function(n){return{ranking:n.ranking.map(function(n){return n.city===e?ie({},n,{isExpanded:!t.state.ranking[r].isExpanded}):n})}})},t.state={country:"",searchedCountry:"",ranking:"empty",placeholderText:"Select Country",isError:!1,isLoading:!1,displayErrMsg:"none"},t}return Object(p.a)(e,n),Object(u.a)(e,[{key:"render",value:function(){var n=this.state,e=n.ranking,t=n.isError,r=n.isLoading;return i.a.createElement(oe,null,i.a.createElement(te,{text:"Most Polluted Cities"}),i.a.createElement(kn,Object.assign({onTextChange:this.onTextChange,handleSubmit:this.handleSubmit,clearSearchBox:this.clearSearchBox},this.state)),!t||"empty"!==e||r?r?i.a.createElement(W.a,{type:"MutatingDots",color:"#fff",height:"100px",width:"100px"}):i.a.createElement(Xn,Object.assign({showCityDescription:this.showCityDescription},this.state)):t?i.a.createElement(Ln,{text:"Oops, your request couldn't be processed!  Please try again later."}):null)}}]),e}(r.Component);function Ie(){var n=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  overflow: hidden;\n  height: calc(100vh - 70px);\n  width: 60vw;\n  max-width: 800px;\n  min-width: 320px;\n  margin: 0 auto;\n\n  @media (min-width: 1600px) {\n    max-width: 1200px;\n  }\n  @media (min-width: 769px) and (max-width: 991px) {\n    width: 80vw;\n  }\n  @media (min-width: 568px) and (max-width: 768px) {\n    width: 90vw;\n  }\n  @media  (max-width: 567px) {\n    width: 95vw;\n  }\n"]);return Ie=function(){return n},n}var Me=f.b.div(Ie()),Pe=function(n){return i.a.createElement(Me,null,n.children)},Te=function(n){function e(){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this))).state={},n}return Object(p.a)(e,n),Object(u.a)(e,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(h,null),i.a.createElement(A,null),i.a.createElement(Pe,null,i.a.createElement(Le,null)))}}]),e}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(Te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.0697f8ec.chunk.js.map